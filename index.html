
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>G.O.D - Music Page</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet" />
  <style>
    :root {
      --bg-color: #0e0e0e;
      --text-color: #ffffff;
      --accent-color: #1db954;
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      background-color: var(--bg-color);
      color: var(--text-color);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      padding: 2rem;
    }
    .cover-art {
      width: 300px;
      height: 300px;
      background: #222;
      background-image: url('G.O.D-Profile.jpeg');
      background-size: cover;
      background-position: center;
      border-radius: 1rem;
      box-shadow: 0 0 30px rgba(0, 0, 0, 0.7);
      margin-bottom: 1rem;
    }
    h1, h2 {
      margin-bottom: 0.5rem;
    }
    h1 {
      font-size: 2.5rem;
    }
    h2 {
      font-size: 1.5rem;
      font-weight: normal;
      color: var(--accent-color);
      margin-bottom: 2rem;
    }
    audio {
      width: 100%;
      max-width: 500px;
      margin-bottom: 1rem;
    }
    .control {
      width: 300px;
      height: 40px;
    }
    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      justify-content: center;
      margin-bottom: 2rem;
    }
    .controls button {
      padding: 0.75rem 1.5rem;
      background-color: var(--accent-color);
      color: #fff;
      border: none;
      border-radius: 0.5rem;
      cursor: pointer;
      font-size: 1rem;
      transition: background 0.3s;
    }
    .controls button:hover {
      background-color: #17a34a;
    }
    .lyrics {
      max-width: 600px;
      background: rgba(255, 255, 255, 0.05);
      padding: 1.5rem;
      border-radius: 1rem;
      box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
      font-size: 1rem;
      line-height: 1.6;
      margin-bottom: 2rem;
      height: 300px;
      overflow-y: auto;
    }
    .lyrics p.active {
      color: var(--accent-color);
      font-weight: bold;
    }
    .socials {
      margin-top: 2rem;
    }
    .socials a {
      color: var(--text-color);
      margin: 0 0.5rem;
      font-size: 1.5rem;
      transition: color 0.3s;
    }
    .socials a:hover {
      color: var(--accent-color);
    }
    @media (max-width: 600px) {
      .cover-art {
        width: 100%;
        height: auto;
        aspect-ratio: 1 / 1;
      }
      h1 {
        font-size: 2rem;
      }
    }
  </style>
</head>
<body>
  <div class="cover-art"></div>
  <h1>G.O.D Skipper</h1>
  <h2>by G.O.D</h2>

  <div id="audio-player" class="audio-player-container">
    <audio id="audioElement" controls>
      <source id="audioSource" type="audio/mpeg">
      Your browser does not support the audio element.
    </audio>
    <div class="control"></div>
  </div>

  <div class="controls">
    <button id="downloadBtn"><i class="fas fa-download"></i> Download</button>
    <button id="streamBtn"><i class="fas fa-play"></i> Stream</button>
    <button onclick="toggleTheme()"><i class="fas fa-adjust"></i> Theme</button>
  </div>

  <div class="lyrics" id="lyrics">
    <h3>Lyrics</h3>
    <p data-start="12" data-end="15">GOD yeah yeah</p>
    <p data-start="15" data-end="17">GGGOD yeah yeah</p>
    <p data-start="17.80" data-end="21">GGGOD yeah yeah</p>
    <p data-start="20.9" data-end="23">GGGOD yeah yeah</p>

    <p data-start="24" data-end="28">GGGOD you gotta pray to the mighty GGGOD</p>
    <p data-start="28.7" data-end="29.8">yeah yeah</p>
    <p data-start="30" data-end="33">GGGOD yeah yeah</p>
    <p data-start="33" data-end="36">GGGOD yeah yeah</p>

  
    <p data-start="36.8" data-end="40">manze venye tunaroga hii flow  (flow, flow) </p>
    <p data-start="40" data-end="42"> rhymes zenu natupa chini kwa hii floor(ayy) </p>
    <p data-start="43" data-end="45">itabidi nimeraise hiyo ego</p>
    <p data-start="45.9" data-end="49">nitatoka hapa kama manze mimi ndio hero</p>
    <p data-start="49" data-end="51">vile niko high nikama niko mangwai </p>
    <p data-start="51.8" data-end="53"> rap zangu kama fine wine</p>
    <p data-start="53" data-end="55">zenu sijui niite chai juu ni dry</p>
    <p data-start="55.3" data-end="58"> haifai ishadai walai</p>

    <p data-start="58" data-end="62">manze umeskia venye nimewa fry kama rice(ha ha ha)</p>
    <p data-start="62" data-end="65">so roll hiyo dice,nikupee  hiyo advice</p>
    <p data-start="65" data-end="68">i am a good nigaa so manzee  sita add vice</p>
    <p data-start="68" data-end="72">sitabonga mara twice ama utapay the price</p>  
    <p data-start="72" data-end="74">nigga (yeah yeah yeah)</p>

    <p data-start="74" data-end="77">vile virusi alisema kuna nomanoma na noma</p>
    <p data-start="77" data-end="79">nomanoma ni mimi nikijiita mnoma</p>
    <p data-start="79" data-end="82">noma ni ule mtu si mnoma anajiita  mnoma</p>
    <p data-start="82" data-end="86">na no man hawezi niambia mimi si mnoma, ayy!!!!!!!!!!!</p>
  
    <p data-start="86" data-end="90">GOD you gotta pray to the mighty GGGOD</p>
    <p data-start="90" data-end="91">yeah yeah</p>
    <p data-start="91.5" data-end="94">GGGOD yeah yeah</p>
    <p data-start="94.5" data-end="97">GGGOD yeah yeah</p>
  
    <p data-start="98" data-end="101">lyrically abused this rappers seem so confused</p>
    <p data-start="101" data-end="104">call your best rapper to see the bomb he got to diffuse</p>
    <p data-start="104" data-end="107">you got 99 seconds before you get fuckin bruised</p>
    <p data-start="107" data-end="110">my book gets amused by the words i use  ,even i  enthused</p>
    <p data-start="110.7" data-end="114">i am like kdot and jcole  in the lab being fused</p>
    <p data-start="114" data-end="117">leaving a mark in the rap world nigga ill infuse</p>
    <p data-start="117" data-end="120">Copy paste flow rappers songs i gotta snooze</p>
    <p data-start="120" data-end="121">Or you gonna get misused </p>
    <p data-start="121" data-end="123"> you brain go diffuse the rhythm reused</p>

  
    <p data-start="123" data-end="126">this is high time i take over the throne</p>
    <p data-start="126" data-end="129">i am a real king not one of the clones</p>
    <p data-start="129" data-end="132">got to move fast yeah i am ready to go</p>
    <p data-start="132" data-end="135">game of life be the master of your tempo</p>
    
    <p data-start="135" data-end="139">GOD you gotta pray to the mighty GGGOD</p>
    <p data-start="139" data-end="141">yeah yeah</p>
    <p data-start="141" data-end="143">GGGOD yeah yeah</p>
    <p data-start="143.7" data-end="146">GGGOD yeah yeah</p>
    <p data-start="147" data-end="148">GGGOD !!!!!</p>
  </div>

  <div class="socials">
    <a href="https://www.instagram.com/theskippergallery/"><i class="fab fa-instagram"></i></a>
    <a href="https://youtube.com/@the.skipper21?si=0iYAkNodZmKVWTO_"><i class="fab fa-youtube"></i></a>
  </div>

<script>
document.addEventListener('DOMContentLoaded', function () {
  const audioElement = document.getElementById('audioElement');
  const audioSource = document.getElementById('audioSource');
  const downloadBtn = document.getElementById('downloadBtn');
  const streamBtn = document.getElementById('streamBtn');
  const lyricLines = document.querySelectorAll('#lyrics p');

  fetch('https://theskippersongs-backend.onrender.com/audios', { method: 'GET' })
    .then(response => response.json())
    .then(data => {
      if (data.length > 0) {
        const firstAudio = data[0];
        const audioUrl = `https://theskippersongs-backend.onrender.com/stream/${firstAudio.id}`;
        audioSource.src = audioUrl;
        audioElement.load();

        downloadBtn.onclick = function() {
          window.location.href = `https://theskippersongs-backend.onrender.com/download/${firstAudio.id}`;
        };

        streamBtn.onclick = function() {
          if (audioElement.paused) {
            audioElement.play();
            streamBtn.innerHTML = '<i class="fas fa-pause"></i> Pause';
          } else {
            audioElement.pause();
            streamBtn.innerHTML = '<i class="fas fa-play"></i> Stream';
          }
        };
      }
    })
    .catch(err => {
      console.error("Failed to load audio:", err);
    });

  // Lyrics synchronization
  audioElement.addEventListener('timeupdate', () => {
    const currentTime = audioElement.currentTime;
    lyricLines.forEach(line => {
      const start = parseFloat(line.getAttribute('data-start'));
      const end = parseFloat(line.getAttribute('data-end'));
      if (currentTime >= start && currentTime < end) {
        line.classList.add('active');
        line.scrollIntoView({ behavior: 'smooth', block: 'center' });
      } else {
        line.classList.remove('active');
      }
    });
  });
});

function toggleTheme() {
  const root = document.documentElement;
  const isDark = getComputedStyle(root).getPropertyValue('--bg-color').trim() === '#0e0e0e';

  root.style.setProperty('--bg-color', isDark ? '#ffffff' : '#0e0e0e');
  root.style.setProperty('--text-color', isDark ? '#000000' : '#ffffff');

  const lyricsBox = document.querySelector('.lyrics');
  if (lyricsBox) {
    lyricsBox.style.background = isDark ? 'rgba(0, 0, 0, 0.05)' : 'rgba(255, 255, 255, 0.05)';
    lyricsBox.style.color = isDark ? '#000' : '#fff';
  }
}
// Update the stream button text based on actual playback state
audioElement.addEventListener('play', () => {
  streamBtn.innerHTML = '<i class="fas fa-pause"></i> Pause';
});

audioElement.addEventListener('pause', () => {
  streamBtn.innerHTML = '<i class="fas fa-play"></i> Stream';
});

// Toggle playback when the button is clicked
streamBtn.onclick = function () {
  if (audioElement.paused) {
    audioElement.play();
  } else {
    audioElement.pause();
  }
};
</script>
